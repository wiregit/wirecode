<?xml version="1.0" encoding="UTF-8"?>

<project name="generic-build" basedir="." default="compile-src">
	<import file="build-macros.xml" />
    
    <target name="initialize" depends="ivy-load" unless="initialized.${component}">
        <do.setup-properties component="${component}"/>
    </target>
	
	<target name="clean" depends="initialize">
	    <do.clean component="${component}"/>
	</target>
    
    <target name="compile" depends="compile-src, compile-tests">
    </target>
	
	<target name="compile-src" depends="publish-dependencies">
	    <do.compile-src component="${component}"/>
	</target>
    
	<target name="clean-src" depends="initialize">
	    <do.clean-src component="${component}"/>
	</target>
	
	<target name="compile-tests" depends="compile-src">
	    <do.compile-tests component="${component}"/>
	</target>
    
	<target name="clean-tests" depends="initialize">
	    <do.clean-tests component="${component}"/>
	</target>
	
	<target name="test" depends="compile">
	    <do.test component="${component}" class="${class}"/>
	</target>
	
	<target name="test-package" depends="compile">
	    <do.test-package component="${component}" package="${package}"/>
	</target>
	
	<target name="test-all" depends="compile">
	    <do.test-all component="${component}"/>
	</target>
    
    <target name="jar" depends="compile-src">
        <do.jar component="${component}"/>
    </target>
    
    <target name="javadoc" depends="compile-src">
    	<do.javadoc component="${component}"/>
	</target>
	
	<target name="publish" depends="jar">
	   <do.publish component="${component}"/>
    </target>
	
	<target name="publish-dependencies" depends="initialize" unless="ivy.dependencies.published">
	    <property name="ivy.dependencies.published" value="true"/>
	    <do.publish-dependencies component="${component}"/>
	</target>
    
    <target name="clean-dist" depends="initialize">
        <do.clean-dist component="${component}"/>
    </target>
    
    <target name="with.clover" depends="initialize">
        <do.clover-setup component="${component}"/>
	</target>
    
    <target name="clover2html" depends="with.clover">
        <do.clover2html component="${component}"/>
    </target>
	
</project>
